(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{417:function(t,e,n){"use strict";n(165);var r=n(166);e.a=Object(r.a)("flex")},419:function(t,e,n){"use strict";n(165);var r=n(166);e.a=Object(r.a)("layout")},438:function(t,e,n){var content=n(439);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("63c9496b",content,!0,{sourceMap:!1})},439:function(t,e,n){(e=n(12)(!1)).push([t.i,".v-snack{align-items:center;color:#fff;display:flex;font-size:.875rem;left:8px;pointer-events:none;position:fixed;right:8px;transition-duration:.15s;transition-timing-function:cubic-bezier(0,0,.2,1);z-index:1000}.v-application--is-ltr .v-snack{text-align:left}.v-application--is-rtl .v-snack{text-align:right}.v-snack--absolute{position:absolute}.v-snack--top{top:8px}.v-snack--bottom{bottom:8px}.v-snack__wrapper{align-items:center;background-color:#323232;border-radius:4px;display:flex;margin:0 auto;pointer-events:auto;transition:inherit;transition-property:opacity,transform;min-width:100%;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.v-snack__content{align-items:center;display:flex;min-height:48px;justify-content:space-between;overflow:hidden;padding:8px 16px;width:100%}.v-snack__content .v-btn{flex:0 0 auto;height:auto;min-width:auto;padding:8px;width:auto}.v-snack__content .v-btn--icon,.v-snack__content .v-btn--outlined,.v-snack__content .v-btn--text{color:#fff}.v-application--is-ltr .v-snack__content .v-btn{margin:0 -8px 0 24px}.v-application--is-rtl .v-snack__content .v-btn{margin:0 24px 0 -8px}.v-snack__content .v-btn__content{margin:-2px}.v-snack--multi-line .v-snack__content{height:auto;min-height:68px}.v-snack--vertical .v-snack__content{align-items:stretch;flex-direction:column;height:auto;padding:16px 16px 8px}.v-snack--vertical .v-snack__content .v-btn.v-btn{align-self:flex-end;justify-self:flex-end;margin-top:18px}.v-application--is-ltr .v-snack--vertical .v-snack__content .v-btn.v-btn{margin-left:0}.v-application--is-rtl .v-snack--vertical .v-snack__content .v-btn.v-btn{margin-right:0}.v-snack--vertical .v-snack__content .v-btn__content{flex:0 0 auto;margin:0}@media only screen and (min-width:600px){.v-snack__wrapper{min-width:344px;max-width:672px}.v-snack--left .v-snack__wrapper{margin-left:0}.v-snack--right .v-snack__wrapper{margin-right:0}.v-application--is-ltr .v-snack__content .v-btn:first-of-type{margin-left:42px}.v-application--is-rtl .v-snack__content .v-btn:first-of-type{margin-right:42px}}.v-snack-transition-enter .v-snack__wrapper{transform:scale(.8)}.v-snack-transition-enter .v-snack__wrapper,.v-snack-transition-leave-to .v-snack__wrapper{opacity:0}",""]),t.exports=e},445:function(t,e,n){"use strict";var r={props:{categorias:Array},data:function(){return{array_categorias:[]}},created:function(){var t=this;this.categorias.forEach((function(e){if(e._id){var n=e._id,r=n.nombre,o=n.icon;t.array_categorias.push({nombre:r,icon:o})}}))},computed:{getArrayCategorias:function(){var t=this;return this.array_categorias=[],this.categorias.forEach((function(e){var n=e._id,r=n._id,o=n.nombre,c=n.icon;t.array_categorias.push({_id:r,nombre:o,icon:c})})),this.array_categorias}}},o=n(43),c=n(55),l=n.n(c),v=n(358),m=n(378),d=n(417),h=n(98),f=n(419),_=n(97),k=n(157),x=n(27),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":""}},[t.array_categorias.length>0?n("v-layout",{attrs:{wrap:""}},t._l(t.getArrayCategorias,(function(e,r){return n("v-flex",{key:r,attrs:{xs4:"",sm4:"",md4:"",xl4:""}},[n("v-card",{staticClass:"mx-0",attrs:{color:"primary",outlined:"",tile:"",shaped:"",dark:""}},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[t._v("\n              "+t._s(e.icon)+"\n            ")])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(e.nombre)}})],1)],1)],1)],1)})),1):t._e()],1)}),[],!1,null,null,null);e.a=component.exports;l()(component,{VCard:v.a,VContainer:m.a,VFlex:d.a,VIcon:h.a,VLayout:f.a,VListItem:_.a,VListItemAvatar:k.a,VListItemContent:x.a,VListItemTitle:x.c})},468:function(t,e,n){"use strict";n(15),n(438);var r=n(16),o=n(29),c=n(47),l=n(5),v=n(7);e.a=Object(l.a)(r.a,o.a,Object(c.b)(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(v.d)("auto-height",this)},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),this.timeout))}},render:function(t){return t("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper",attrs:{role:"alert"}}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},492:function(t,e,n){"use strict";n.r(e);var r=n(418),o=(n(49),n(17)),c=n(445),l=n(168),v=n(447),m={props:{tiendita:{type:Object}},components:{CategoryView:c.a},data:function(){return{usuario:"",snackbar:!1,copyURL:""}},computed:{getTiendita:function(){return this.tiendita}},methods:{formatUbication:function(){return Object(v.a)(this.tiendita.ubicacion,!1)},URLformat:function(t){return Object(l.a)(t)},copyLink:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.snackbar=!0,e.copyURL="http://www.esmio.app/".concat(t),n.next=5,e.$copyText(e.copyURL);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},agregarFavoritos:function(){var t=this;try{this.$store.getters.isLoggedIn?this.usuario=this.$store.getters.getUsuario.usuario:this.$router.push("/login"),this.$axios.post("/user/favorito",{usuario:this.usuario,tiendita:this.tiendita}).then((function(t){return t.data})).then((function(data){console.log(data)})).catch((function(e){if(t.message=null,e.response.status)switch(e.response.status){case 404:case 303:t.message=e.response.message}else t.message="Ocurrio un problema,talvez no cuentes con conexi√≥n."}))}catch(t){console.log(t)}}}},d=n(43),h=n(55),f=n.n(h),_=n(167),k=n(358),x=n(356),y=n(375),w=n(98),C=n(131),V=n(97),L=n(157),T=n(27),I=n(483),O=n(430),R=n(468),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("v-card",{staticClass:"ma-n1",staticStyle:{"border-radius":"20%"},attrs:{"max-width":"200","max-height":"300",elevation:"3"}},[n("v-list-item",[n("v-list-item-avatar",{staticClass:"mr-1 ml-n4 mt-n7",attrs:{color:"primary",size:"55"}},[n("v-img",{attrs:{src:t.getTiendita.icono?t.URLformat(t.getTiendita.icono.imageURL):"/favicon.ico"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline blue--text mt-n2",staticStyle:{"text-align":"center"}},[t._v("\n          "+t._s(t.getTiendita.nombre)+"\n        ")]),t._v(" "),n("v-list-item-subtitle",{staticClass:"mt-n1",staticStyle:{"text-align":"center"}},[n("v-icon",[t._v("\n            mdi-map-marker\n          ")]),t._v("\n          "+t._s(t.formatUbication()))],1)],1)],1),t._v(" "),n("nuxt-link",{attrs:{to:"/"+t.getTiendita.nick}},[n("v-img",{attrs:{src:t.getTiendita.portada?t.URLformat(t.getTiendita.portada.imageURL):"/tiendita.png",height:"150"}})],1),t._v(" "),n("v-card-text",[n("v-row",{staticClass:"mt-n3"},[n("v-rating",{attrs:{value:parseInt(t.getTiendita.calificacion.valor),color:"primary",dense:"","half-increments":"",readonly:"",size:"14"}}),t._v(" "),n("v-col",{staticClass:"text-right ma-n5"},[n("v-btn",{staticClass:"mr-n2",attrs:{color:"error",icon:""},on:{click:t.agregarFavoritos}},[n("v-icon",[t._v("mdi-heart")])],1),t._v(" "),n("v-btn",{staticClass:"ml-n2",attrs:{color:"primary",icon:""},on:{click:function(e){return t.copyLink(t.getTiendita.nick)}}},[n("v-icon",[t._v("mdi-share-variant")])],1),t._v(" "),n("v-snackbar",{attrs:{"multi-line":""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s("LINK copiado, listo para pegarlo en tus redes sociales: \n "+t.copyURL)+"\n            "),n("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n              Close\n            ")])],1)],1)],1),t._v(" "),n("div",{staticClass:"mx-2 black--text",staticStyle:{"text-align":"center"}},[t._v("\n        "+t._s(t.getTiendita.descripcion)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null),j=component.exports;f()(component,{VBtn:_.a,VCard:k.a,VCardText:x.b,VCol:y.a,VIcon:w.a,VImg:C.a,VListItem:V.a,VListItemAvatar:L.a,VListItemContent:T.a,VListItemSubtitle:T.b,VListItemTitle:T.c,VRating:I.a,VRow:O.a,VSnackbar:R.a});var U={props:{carouselItems:{type:Array}},methods:{URLformat:function(t){return Object(l.a)(t)}}},$=n(517),A=n(521),S=n(378),E=n(40),P=Object(d.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0"},[n("v-carousel",{attrs:{cycle:"",height:"150","hide-delimiters":"","show-arrows-on-hover":""}},t._l(t.carouselItems,(function(e){return n("v-carousel-item",{key:e.nombre},[n("v-sheet",{attrs:{height:"100%",width:"100%"}},[n("v-img",{attrs:{src:e.photo?t.URLformat(e.photo.imageURL):"/favicon.ico",height:"100%",width:"100%",alt:e.descripcion}})],1)],1)})),1)],1)}),[],!1,null,null,null),z=P.exports;f()(P,{VCarousel:$.a,VCarouselItem:A.a,VContainer:S.a,VImg:C.a,VSheet:E.a});var B={data:function(){return{src:"/tiendita.png",loading:!1,tienditas:[],productos:[],carouselItems:[]}},components:{TienditaView:j,ProductView:r.a,CarouselView:z},created:function(){this.loadProductos(),this.loadTienditas(),this.loadCarouselItems()},methods:{loadCarouselItems:function(){var t=this;this.$axios.get("/carousel/list").then((function(t){return t.data})).then((function(data){t.carouselItems=data})).catch((function(t){console.log(t.response)}))},loadProductos:function(){var t=this;this.$axios.get("https://esmiows.herokuapp.com/api/producto/list").then((function(t){return t.data})).then((function(data){t.productos=data})).catch((function(e){switch(t.message=null,e.response.status){case 404:t.message="No existe el usuario o las credenciales son incorrectas.";break;case 303:t.message="Ocurri√≥ un error con el servidor."}}))},loadTienditas:function(){var t=this;this.$axios.get("tiendita/list").then((function(t){return t.data})).then((function(data){t.tienditas=data})).catch((function(e){switch(t.message=null,e.response.status){case 404:t.message="No existe el usuario o las credenciales son incorrectas.";break;case 303:t.message="Ocurri√≥ un error con el servidor."}}))},tienda:function(t){console.log("quiere ver tiendita:"+t)}}},N=n(379),D=n(422),F=n(491),J=n(520),M=Object(d.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",{staticClass:"ma-0 pa-0"},[[n("CarouselView",{attrs:{carouselItems:t.carouselItems}}),t._v(" "),n("div",[n("v-btn",{staticClass:"mt-1 mb-1",attrs:{color:"primary",to:"/product"}},[t._v("PRODUCTOS")]),t._v(" "),n("v-divider",{staticClass:"mx-1",attrs:{color:"sky-blue"}}),t._v(" "),n("v-divider",{staticClass:"mx-1",attrs:{color:"sky-blue"}}),t._v(" "),n("v-divider",{staticClass:"mx-1",attrs:{color:"sky-blue"}})],1),t._v(" "),n("v-sheet",{staticClass:"mx-auto"},[n("v-slide-group",t._l(t.productos,(function(t){return n("v-slide-item",{key:t._id},[n("ProductView",{staticClass:"ma-0",attrs:{producto:t}})],1)})),1)],1),t._v(" "),n("div",[n("v-btn",{staticClass:"mt-1 mb-1",attrs:{color:"primary"}},[t._v("TIENDAS")]),t._v(" "),n("v-divider",{staticClass:"mx-1",attrs:{color:"sky-blue"}}),t._v(" "),n("v-divider",{staticClass:"mx-1",attrs:{color:"sky-blue"}}),t._v(" "),n("v-divider",{staticClass:"mx-1",attrs:{color:"sky-blue"}})],1),t._v(" "),n("v-sheet",{staticClass:"mx-auto"},[n("v-slide-group",t._l(t.tienditas,(function(t){return n("v-slide-item",{key:t._id},[n("TienditaView",{attrs:{tiendita:t}})],1)})),1)],1)]],2)}),[],!1,null,null,null);e.default=M.exports;f()(M,{VBtn:_.a,VContent:N.a,VDivider:D.a,VSheet:E.a,VSlideGroup:F.a,VSlideItem:J.a})}}]);