(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{356:function(t,e,r){"use strict";r.d(e,"a",(function(){return v})),r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return d}));var n=r(358),o=r(0),v=Object(o.i)("v-card__actions"),c=Object(o.i)("v-card__subtitle"),l=Object(o.i)("v-card__text"),d=Object(o.i)("v-card__title");n.a},494:function(t,e,r){"use strict";r.r(e);r(49);var n=r(17),o={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.error,n=t.params,o=t.$axios,v=t.store,e.abrupt("return",o.post("/compra/getbyiduser",{usuario:v.getters.getUsuario.usuario,_id:n.id}).then((function(t){return{compra:t.data}})).catch((function(t){r({statusCode:404,message:"Compra no encontrado"})})));case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{message:null,headersEntrega:[{text:"Nro.",sortable:"false",value:"nro"},{text:"ID",value:"_id"},{text:"Entregado.",value:"entrega"},{text:"Recivido.",value:"recivido"},{text:"Nota",value:"nota"}],itemsEntrega:[],headers:[{text:"Nro",align:"center",sortable:"true",value:"nro"},{text:"Nombre de Producto",align:"center",sortable:"true",value:"nombre"},{text:"Precio de Venta",align:"center",sortable:"true",value:"precio_venta"},{text:"Moneda",align:"center",sortable:"true",value:"moneda"},{text:"Cantidad",align:"center",sortable:"true",value:"cantidad"},{text:"Total",align:"center",sortable:"true",value:"total"}]}},created:function(){"CORRECTO"===this.compra.estado&&this.getEntregasCompra()},methods:{getEntregasCompra:function(){var t=this;this.$axios.post("/entrega/getbycomprauser",{usuario:this.$store.getters.getUsuario.usuario,compra:this.compra._id}).then((function(t){return t.data})).then((function(data){t.itemsEntrega=data})).catch((function(e){t.message=e.response.message}))}}},v=r(43),c=r(55),l=r.n(c),d=r(358),_=r(356),m=r(432),f=r(379),h=r(493),x=r(422),C=r(131),E=r(97),O=r(157),T=r(27),y=r(360),R=r(44),component=Object(v.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-content",{staticClass:"ma-0 pa-0"},[r("v-card",[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("div",{staticClass:"overline mb-4"},[t._v("www.esmío.com | Tienditas Virtuales")]),t._v(" "),r("v-list-item-title",{staticClass:"headline mb-1 blue--text"},[t._v("\n          Nueva orden de compra\n          "),r("v-chip",{attrs:{color:"gray",dark:""}},[t._v("\n            "+t._s(t.compra.estado)+"\n          ")])],1),t._v(" "),r("v-list-item-subtitle",[r("strong",[t._v("\n            ID:\n          ")]),t._v("\n          "+t._s(t.compra._id))])],1),t._v(" "),r("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"primary"}},[r("v-img",{attrs:{src:"/favicon.ico"}})],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-card-title",{staticClass:"blue--text"},[t._v("\n      CLIENTE DESTINO:\n    ")]),t._v(" "),r("v-card-text",[r("div",[r("strong",[t._v("Nombre:")]),t._v("\n\n        "+t._s(t.compra.cliente.nombre+" "+t.compra.cliente.apellidos)+"\n      ")]),t._v(" "),r("div",[r("strong",[t._v("Documento:")]),t._v("\n\n        "+t._s(t.compra.cliente.tipo_documento+"-"+t.compra.cliente.num_documento)+"\n      ")]),t._v(" "),r("div",[r("strong",[t._v("Telefono:")]),t._v("\n        "+t._s(t.compra.cliente.telefono)+"\n      ")]),t._v(" "),r("div",[r("strong",[t._v("País:")]),t._v("\n        "+t._s(t.compra.cliente.pais)+"\n      ")]),t._v(" "),r("div",[r("strong",[t._v("Departamento:")]),t._v("\n        "+t._s(t.compra.cliente.departamento)+"\n      ")]),t._v(" "),r("div",[r("strong",[t._v("Cuidad:")]),t._v("\n        "+t._s(t.compra.cliente.cuidad)+"\n      ")]),t._v(" "),r("div",[r("strong",[t._v("Dirección: ")]),t._v("\n        "+t._s(t.compra.cliente.direccion)+"\n      ")])]),t._v(" "),r("v-card-title",{staticClass:"blue--text"},[t._v("Mapa:")]),t._v(" "),r("div",{staticStyle:{height:"50vh"},attrs:{id:"map-wrap"}},[r("no-ssr",[r("l-map",{attrs:{zoom:15,center:[t.compra.cliente.latlng.lat,t.compra.cliente.latlng.lng]}},[r("l-tile-layer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),t._v(" "),r("l-marker",{attrs:{"lat-lng":[t.compra.cliente.latlng.lat,t.compra.cliente.latlng.lng]}})],1)],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-card-title",{staticClass:"blue--text"},[t._v("\n      DETALLES DE LA COMPRA:\n    ")]),t._v(" "),t._l(t.compra.tienditas,(function(e){return r("v-data-table",{key:e._id.nombre,staticClass:"elevation-1",attrs:{headers:t.headers,items:e.productos},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-list-item",[r("v-list-item-avatar",{attrs:{color:"primary",size:"70"}},[r("v-img",{attrs:{src:e._id.icono?e._id.icono.imageURL:"/esmio.jpg"}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline blue--text"},[t._v(t._s(e._id.nombre))]),t._v(" "),r("v-list-item-subtitle",[r("strong",[t._v("TOTAL: ")]),t._v("\n                "+t._s(e.total.monto+" "+e.total.moneda))]),t._v(" "),r("v-list-item-subtitle",[r("strong",[t._v("PRODUCTOS: ")]),t._v("\n                "+t._s(e.productos.length+" productos."))])],1)],1)],1)]},proxy:!0},{key:"item.nro",fn:function(n){var o=n.item;return[r("div",[t._v("\n          "+t._s(e.productos.indexOf(o)+1)+"\n        ")])]}},{key:"item.total",fn:function(e){var n=e.item;return[r("div",[t._v("\n          "+t._s(parseInt(n.precio_venta)*parseInt(n.cantidad))+"\n        ")])]}}],null,!0)})})),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-card-title",{staticClass:"blue--text"},[t._v("\n      MONTO TOTAL DE COMPRA:\n    ")]),t._v(" "),r("v-card-text",[r("strong",[t._v("Total: ")]),t._v(t._s(t.compra.total.monto+" "+t.compra.total.moneda)+"\n    ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-card-title",{staticClass:"blue--text"},[t._v("\n      DETALLE DE PAGO:\n    ")]),t._v(" "),r("v-card-text",[r("strong",[t._v("Opcion:")]),t._v(t._s(t.compra.pago.opcion)+"\n      "),"TIGOMONEY"==t.compra.pago.opcion?r("div",[r("div",[r("strong",[t._v("ID en Tigomoney:")]),t._v("\n          "+t._s(t.compra.pago.tigoMoney.id)+"\n        ")]),t._v(" "),r("div",[r("strong",[t._v("Nombre Remitente:")]),t._v("\n          "+t._s(t.compra.pago.tigoMoney.nombreRemitente)+"\n        ")]),t._v(" "),r("div",[r("strong",[t._v("Numero del Remitente:")]),t._v("\n          "+t._s(t.compra.pago.tigoMoney.nroRemitente)+"\n        ")])]):t._e()]),t._v(" "),r("v-card-title",{staticClass:"blue--text"},[t._v("\n      NOTA:\n    ")]),t._v(" "),r("v-card-text",[t.compra.nota?r("div",[t._v("\n        "+t._s(t.compra.nota)+"\n      ")]):r("div",[r("v-text-field",{attrs:{label:"Nota"}})],1)]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"CORRECTO"===t.compra.estado,expression:"compra.estado === 'CORRECTO'"}]},[r("v-card-title",{staticClass:"blue--text"},[t._v("\n        ENTREGAS GENERADAS:\n      ")]),t._v(" "),r("v-card-text",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersEntrega,items:t.itemsEntrega},scopedSlots:t._u([{key:"item.nro",fn:function(e){var r=e.item;return[t._v("\n            "+t._s(t.itemsEntrega.indexOf(r)+1)+"\n          ")]}},{key:"item.entrega",fn:function(e){return[e.item.entrega.estado?r("div",[r("v-chip",{attrs:{color:"success",dark:""}},[t._v("Entregado.")])],1):r("div",[r("v-chip",{attrs:{color:"error",dark:""}},[t._v("Pendiente.")])],1)]}},{key:"item.recivido",fn:function(e){return[e.item.recivido.estado?r("div",[r("v-chip",{attrs:{color:"success",dark:""}},[t._v("Entregado.")])],1):r("div",[r("v-chip",{attrs:{color:"error",dark:""}},[t._v("Pendiente.")])],1)]}}])})],1)],1)],2)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VCard:d.a,VCardText:_.b,VCardTitle:_.c,VChip:m.a,VContent:f.a,VDataTable:h.a,VDivider:x.a,VImg:C.a,VListItem:E.a,VListItemAvatar:O.a,VListItemContent:T.a,VListItemSubtitle:T.b,VListItemTitle:T.c,VTextField:y.a,VToolbar:R.a})}}]);