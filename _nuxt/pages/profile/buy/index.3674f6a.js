(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{407:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o(44),n=o(0),c=Object(n.i)("v-toolbar__title"),l=Object(n.i)("v-toolbar__items");r.a},498:function(t,e,o){"use strict";o.r(e);var r={data:function(){return{search:null,headers:[{text:"ID de compra",align:"start",sortable:!1,value:"_id"},{text:"Nombre Destino",value:"cliente.nombre"},{text:"Productos",value:"productos"},{text:"Pago por",value:"pago.opcion"},{text:"Total Bs.",value:"total"}],compras:[]}},methods:{getProductosCantidad:function(t){var e=0;return t.forEach((function(t){e+=t.productos.length})),e},loadBuys:function(){var t=this;this.$axios.post("compra/listbyuser",{usuario:this.usuario}).then((function(t){return t.data})).then((function(data){console.log(data),t.compras=data})).catch((function(e){switch(t.message=null,e.response.status){case 404:t.message="LLena correctamente los formularios/Otros clientes compraron los productos y se agotan, recarga y vuelve a comprar.";break;case 303:t.message="Ocurrió un error con el servidor."}}))}},created:function(){var t=this;this.$store.watch((function(e){t.usuario=e.usuario._id,t.loadBuys()}))}},n=o(43),c=o(55),l=o.n(c),d=o(432),v=o(378),m=o(493),h=o(422),f=o(383),_=o(360),x=o(44),y=o(407),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.compras,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[t._v("Tus Compras")]),t._v(" "),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),o("v-spacer"),t._v(" "),o("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-magnify",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.productos",fn:function(e){var r=e.item;return[o("v-chip",{attrs:{color:"primary",dark:""},domProps:{textContent:t._s(t.getProductosCantidad(r.tienditas))}})]}},{key:"item.total",fn:function(e){var o=e.item;return[t._v("\n      "+t._s(o.total.monto+" "+o.total.moneda)+"\n    ")]}}])})],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VChip:d.a,VContainer:v.a,VDataTable:m.a,VDivider:h.a,VSpacer:f.a,VTextField:_.a,VToolbar:x.a,VToolbarTitle:y.a})}}]);